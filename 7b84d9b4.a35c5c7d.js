(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{72:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return o})),t.d(a,"metadata",(function(){return l})),t.d(a,"rightToc",(function(){return c})),t.d(a,"default",(function(){return u}));var n=t(3),i=t(7),r=(t(0),t(85)),o={id:"apm",title:"@idearium/apm"},l={unversionedId:"apm",id:"apm",isDocsHomePage:!1,title:"@idearium/apm",description:"Defaults for our Elastic APM integration.",source:"@site/docs/apm.md",slug:"/apm",permalink:"/idearium-lib/docs/apm",editUrl:"https://github.com/idearium/idearium-lib/tree/feature-monorepo/docusaurus/docs/apm.md",version:"current",sidebar:"sidebar",previous:{title:"About",permalink:"/idearium-lib/docs/"},next:{title:"@idearium/encryption",permalink:"/idearium-lib/docs/encryption"}},c=[{value:"Installation",id:"installation",children:[{value:"Beta installation",id:"beta-installation",children:[]}]},{value:"Usage",id:"usage",children:[]},{value:"Advanced usage",id:"advanced-usage",children:[]}],s={rightToc:c};function u(e){var a=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Defaults for our Elastic APM integration."),Object(r.b)("h2",{id:"installation"},"Installation"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"$ yarn add -E @idearium/apm\n")),Object(r.b)("h3",{id:"beta-installation"},"Beta installation"),Object(r.b)("p",null,"If you need to install a beta version, you can:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-shell"}),"$ yarn add -E @idearium/apm@beta\n")),Object(r.b)("h2",{id:"usage"},"Usage"),Object(r.b)("p",null,"To use ",Object(r.b)("inlineCode",{parentName:"p"},"@idearium/apm"),", simply require it at the top of your server.js file."),Object(r.b)("p",null,"You will need to include the following environment variables in your manifests:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-yaml"}),"ELASTIC_APM_IGNORE_URLS: '/_status/ping,/version.json'\nELASTIC_APM_SERVER_URL: 'https://elasticserverurl:443'\nELASTIC_APM_SERVICE_NAME: 'project-repo-container-environment'\n")),Object(r.b)("h2",{id:"advanced-usage"},"Advanced usage"),Object(r.b)("p",null,"In addition to the required environment variables above, you can customize the apm integration using any of the Elastic APM agent ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.elastic.co/guide/en/apm/agent/nodejs/current/configuration.html"}),"configuration options"),"."))}u.isMDXComponent=!0}}]);